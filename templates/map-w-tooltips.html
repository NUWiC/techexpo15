<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-45359239-3', 'auto');
  ga('send', 'pageview');
</script>

<ion-view title="Company Booth Layout">
    
<ion-scroll zooming="true" max-zoom="5" width="{{mapWidth}}" direction="xy" style=" padding-top: 50px;">

<svg xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
     preserveAspectRatio="xMinYMin meet" 
     viewBox="{{startX}} {{startY}} {{mapWidth}} {{mapHeight}}">
  
<style>
#northshore-title, #lakeshore-title {
  stroke:#000000;
  text-anchor:middle;
  font-family: serif;
  font-size: 24;
  stroke-width:0;
  fill:#000000;
  stroke-linecap: null;
  stroke-linejoin: null;
  stroke-dasharray: null;
}
.tooltip { display:inline; opacity:0.85; fill: #fff; stroke: lime; stroke-width: 1;}

</style>


 <!-- Created with SVG-edit - http://svg-edit.googlecode.com/ 
http://i.imgur.com/CKWe0M9.png
-->

<!--

hide this for pushing to github
use for positioning booths and shiz
 <g>
  <title>background image for tracing</title>
  <!--image x="2" y="1" width="1093" height="1431" xlink:href="http://i.imgur.com/CKWe0M9.png"/--
  <image x="2" y="1" width="1093" height="1431" id="svg_1" xlink:href="http://i.imgur.com/ArXl22P.png"/>

 </g>
<style>
.room {fill: none;}
</style>

-->

  <g id="hilton-garden">

  <title>Room outline</title>
<!--
<text x="535"  y="-75" class="roomTitle"> Grand Ballroom </text>
 -->
  <text id="northshore-title" transform="matrix(1.1191343069076538,0,0,1,-33.64427286013961,0) " xml:space="preserve" font-size="24" y="868.341882" x="368.723276" >Northshore Room</text>

  <text id="lakeshore-title" transform="matrix(1.1191343069076536,0,0,1,178.0052632726729,0.7601555585861206) " xml:space="preserve" font-size="24" text-anchor="middle" y="1103.131952" x="359.535124">Lakeshore Room</text>

  <path class="room"  d="{{roomOutline}}" />
</g>
    
          
<line class="wall" x1="202" y1="218" x2="178" y2="186" id="svg_59"/>
<line class="wall" x1="420" y1="219" x2="396" y2="187" id="svg_60"/>
<line class="wall" x1="254" y1="906" x2="230" y2="875" id="svg_61"/>
<line class="wall" x1="429" y1="906" x2="405" y2="875" id="svg_62"/>
<line class="wall" x1="580" y1="906" x2="556" y2="875" id="svg_63"/>
<line class="wall" x1="705" y1="217" x2="681" y2="186" id="svg_64"/>
<line class="wall" x1="222" y1="222" x2="249" y2="190" id="svg_65"/>
<line class="wall" x1="178" y1="904" x2="204" y2="873" id="svg_66"/>
<line class="wall" x1="357" y1="909" x2="384" y2="878" id="svg_67"/>
<line class="wall" x1="441" y1="217" x2="467" y2="186" id="svg_68"/>
<line class="wall" x1="732" y1="219" x2="759" y2="187" id="svg_69"/>
<line class="wall" x1="502" y1="906" x2="529" y2="875" id="svg_70"/>
<line class="wall" x1="370" y1="1103" x2="397" y2="1072" id="svg_71"/>
<line class="wall" x1="321" y1="1432" x2="348" y2="1401" id="svg_72"/>
<line class="wall" x1="551" y1="1430" x2="578" y2="1399" id="svg_73"/>
<line class="wall" x1="530" y1="1103" x2="506" y2="1072" id="svg_74"/>
<line class="wall" x1="644" y1="1429" x2="620" y2="1398" id="svg_75"/>
<line class="wall" x1="397" y1="1427" x2="373" y2="1396" id="svg_76"/>




<text stroke="#000000" fill="#000000" stroke-width="0" x="369" y="868" id="svg_78" font-size="24" font-family="serif" text-anchor="middle" xml:space="preserve" transform="matrix(0.9757868429625915,0,0,0.8719121886798789,-23.078713037476177,183.8957192263419) ">Northshore Room</text>

<text stroke="#000000" fill="#000000" stroke-width="0" x="360" y="1103" font-size="24" font-family="serif" text-anchor="middle" xml:space="preserve" transform="matrix(0.9757868429625913,0,0,0.8719121886798789,161.46109724516543,184.55850812316598) " id="svg_79">Lakeshore Room</text>




<line class="room" id="svg_90" y2="-587" x2="23" y1="-587" x1="225"/>
<line class="room" id="svg_91" y2="-242" x2="19" y1="-242" x1="288"/>
<line class="room" id="svg_93" y2="89" x2="18" y1="89" x1="220"/>
<line class="room" id="svg_94" y2="-319" x2="425" y1="-319" x1="640"/>
<line class="room" id="svg_95" y2="-239" x2="442" y1="-239" x1="654"/>
<line class="room" id="svg_96" y2="71" x2="481" y1="71" x1="649"/>
<line class="room" id="svg_97" y2="-800" x2="24" y1="-800" x1="427"/>
<line class="room" id="svg_98" y2="-319" x2="428" y1="-800" x1="428"/>
<line class="room" id="svg_99" y2="87" x2="22" y1="-799" x1="22"/>
<line class="room" x1="652" y1="-240" x2="652" y2="71" id="svg_92"/>

    
    
    <g>
      <title> Booths </title>

      <!-- ng-click="go('/companies/{{b.compId}}')" -->
    <g ng-repeat="b in booths" ng-click="tooltipIsVisible = !tooltipIsVisible">
      
    <!-- this still throws errors in console, but it does exactly what i want so... shrug -->
      
    <g ng-attr-transform="translate({{b.x}}, {{b.y}})">

<g id="{{b.compId}}-tooltip" ng-show="tooltipIsVisible" ng-click="go('/companies/{{b.compId}}')">
        <path id="tooltip" fill="#fff"
              d="
              M -35, -75
              L  90, -75
              L  90,-10 
              L  38,-10 
              L  30,-3 
              L  22,-10 
              L -35,-10 Z"></path>       
        <text x="-20" y="-27" class="tooltip-label"> Booth # {{b.bNum}} </text>
        <text x="-20" y="-13" class="tooltip-label"> Click for details </text>
        <image class="compLogo" 
             x="-30" y="-70"
             width="120" height="30"
             ng-xlink-href="./img/logos/{{b.compId}}/wide.png" 
             xlink:href=""/>
      </g>




    <text class="boothlabel compId boothNumId" 
                ng-attr-x="25"
                ng-attr-y="5">
            {{b.bNum}}        
          </text>

    <g ng-attr-transform="rotate({{b.rotate}},0,0)">
        <rect class="booth"
              ng-attr-id="{{b.compId}}"
              x="0" y="0"
              ng-attr-width="{{bWidth}}"
              ng-attr-height="{{bHeight}}"/>
      <!--text class="boothlabel compId boothNumId" 
                ng-attr-x="-25"
                ng-attr-y="-25">
            {{b.compId}}        
          </text-->
      
      <!-- new format, larger logo image -->
        <image class="compLogo" 
             x="0" y="0"
             ng-attr-width="{{bWidth}}" ng-attr-height="{{bHeight}}"
             xlink:href=""
             ng-src
             ng-xlink-href="./img/logos/{{b.compId}}/wide.png" />
             />

          
      
      </g><!-- for rotate -->
      
    </g><!-- /g for transform translate -->
    </g><!-- /g for each booth -->
     
    </g><!-- /g for all booths -->
    </g><!-- /g for entire room -->
    </svg>

<!--
      </g>/ transform - rotate --
    </g><!--/ transform - x y coordinates --
</g> <!--/ b in booths --
  
</svg>

<!--  ng-click="go('/companies/{{b.compId}}')" in rect doesnt work -->

    


<!--Interactive Illustrator SVG using AngularJS:(tooltips)
 http://plnkr.co/edit/0LLUKB9iyzmL9aiMfcRX?p=preview -->

</ion-scroll>

</ion-view>

